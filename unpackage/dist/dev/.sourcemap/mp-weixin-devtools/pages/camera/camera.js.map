{"version":3,"names":["_sfc_main","data","showCamera","showPreview","cameraPosition","flash","photoPath","cameraMode","poseOpacity","currentPose","modeLabels","filmParams","name","value","computed","cameraIcon","methods","takePhoto","_this","cameraContext","common_vendor","index","createCameraContext","vibrateShort","quality","success","res","tempImagePath","switchCamera","vibrate","type","cancelSave","savePhoto","_this2","showLoading","title","setTimeout","hideLoading","showToast","toggleCameraMode","length","openSettings","icon","showGallery","wx","createPage","MiniProgramPage"],"sources":["camera.vue","camera.vue?type=page"],"sourcesContent":["<template>\n  <view class=\"camera-container\">\n    <!-- 全屏相机预览 -->\n    <camera class=\"camera-preview\" :device-position=\"cameraPosition\" :flash=\"flash\" v-if=\"showCamera\">\n      <!-- 姿势参考图 (透明度0.5) -->\n      <image :src=\"currentPose\" class=\"pose-reference\" :style=\"{opacity: poseOpacity}\" />\n    </camera>\n    \n    <!-- 顶部控制栏 -->\n    <view class=\"top-bar\">\n      <view class=\"top-left\">\n        <view class=\"camera-mode\" @click=\"toggleCameraMode\">\n          <text class=\"mode-text\">{{ modeLabels[cameraMode] }}</text>\n          <image src=\"/static/arrow-up.png\" class=\"mode-icon\" />\n        </view>\n        \n        <view class=\"exposure\">\n          <text class=\"value\">EV</text>\n          <slider class=\"slider\" min=\"-2\" max=\"2\" step=\"0.5\" value=\"0\" />\n          <text class=\"number\">0.0</text>\n        </view>\n      </view>\n      \n      <view class=\"top-right\">\n        <view class=\"settings-btn\" @click=\"openSettings\">\n          <image src=\"/static/setting.png\" class=\"settings-icon\" />\n        </view>\n      </view>\n    </view>\n    \n    <!-- 参数显示区域 -->\n    <view class=\"params-display\">\n      <view class=\"param\">\n        <text class=\"name\">MBTRE</text>\n        <text class=\"value\">1000</text>\n      </view>\n      <view class=\"param\">\n        <text class=\"name\">MOE</text>\n        <text class=\"value\">1000</text>\n      </view>\n      <view class=\"param\">\n        <text class=\"name\">ISO</text>\n        <text class=\"value\">6000</text>\n      </view>\n      <view class=\"param\">\n        <text class=\"name\">F</text>\n        <text class=\"value\">1000</text>\n      </view>\n      <view class=\"param\">\n        <text class=\"name\">S</text>\n        <text class=\"value\">1056</text>\n      </view>\n      <view class=\"param\">\n        <text class=\"name\">@</text>\n        <text class=\"value\">+0</text>\n      </view>\n    </view>\n    \n    <!-- 底部控制栏 -->\n    <view class=\"bottom-bar\">\n      <view class=\"left-controls\">\n        <view class=\"control-item\" @click=\"showGallery\">\n          <view class=\"photo-thumbnail\">\n            <image src=\"/static/image-gallery.png\" class=\"thumbnail\" />\n          </view>\n          <text class=\"control-label\">照片库</text>\n        </view>\n      </view>\n      \n      <view class=\"center-controls\">\n        <view class=\"shutter-button\" @click=\"takePhoto\">\n          <view class=\"outer-ring\">\n            <view class=\"inner-circle\"></view>\n          </view>\n        </view>\n      </view>\n      \n      <view class=\"right-controls\">\n        <view class=\"control-item\" @click=\"switchCamera\">\n          <image :src=\"cameraIcon\" class=\"control-icon\" />\n          <text class=\"control-label\">{{ cameraPosition === 'back' ? '前置' : '后置' }}</text>\n        </view>\n      </view>\n    </view>\n    \n    <!-- 底部胶片样式参数 -->\n    <view class=\"film-strip\">\n      <view class=\"film-item\" v-for=\"(param, index) in filmParams\" :key=\"index\">\n        <text class=\"param-name\">{{ param.name }}</text>\n        <text class=\"param-value\">{{ param.value }}</text>\n      </view>\n    </view>\n    \n    <!-- 照片预览模态框 -->\n    <view class=\"preview-modal\" v-if=\"showPreview\">\n      <image :src=\"photoPath\" class=\"preview-image\" mode=\"aspectFit\" />\n      <view class=\"preview-buttons\">\n        <button class=\"preview-btn cancel-btn\" @click=\"cancelSave\">重拍</button>\n        <button class=\"preview-btn save-btn\" @click=\"savePhoto\">保存</button>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      showCamera: true,\n      showPreview: false,\n      cameraPosition: \"back\",\n      flash: \"off\",\n      photoPath: \"\",\n      cameraMode: 0,\n      poseOpacity: 0.5,\n      currentPose: \"/static/girl-pose-01.png\",\n      \n      modeLabels: [\"照片\", \"视频\", \"人像\", \"全景\"],\n      \n      filmParams: [\n        { name: \"MBTRE\", value: \"1000\" },\n        { name: \"MOE\", value: \"1000\" },\n        { name: \"ISO\", value: \"6000\" },\n        { name: \"F\", value: \"1000\" },\n        { name: \"S\", value: \"1056\" },\n        { name: \"@\", value: \"+0\" },\n      ],\n    };\n  },\n  computed: {\n    cameraIcon() {\n      return this.cameraPosition === \"back\" \n        ? \"/static/switch_camera.png\" \n        : \"/static/switch_camera.png\";\n    },\n  },\n  methods: {\n    // 拍照\n    takePhoto() {\n      const cameraContext = uni.createCameraContext();\n      uni.vibrateShort(); // 震动反馈\n      \n      cameraContext.takePhoto({\n        quality: \"high\",\n        success: (res) => {\n          this.photoPath = res.tempImagePath;\n          this.showPreview = true;\n        }\n      });\n    },\n    \n    // 切换摄像头\n    switchCamera() {\n      this.cameraPosition = this.cameraPosition === \"back\" ? \"front\" : \"back\";\n      uni.vibrate({ type: \"light\" });\n    },\n    \n    // 取消保存\n    cancelSave() {\n      this.showPreview = false;\n      this.photoPath = \"\";\n    },\n    \n    // 保存照片\n    savePhoto() {\n      uni.showLoading({ title: \"保存中...\" });\n      \n      setTimeout(() => {\n        uni.hideLoading();\n        uni.showToast({ title: \"保存成功!\" });\n        this.showPreview = false;\n        this.photoPath = \"\";\n      }, 1000);\n    },\n    \n    // 切换相机模式\n    toggleCameraMode() {\n      this.cameraMode = (this.cameraMode + 1) % this.modeLabels.length;\n      uni.vibrate({ type: \"light\" });\n    },\n    \n    // 打开设置\n    openSettings() {\n      uni.vibrate({ type: \"light\" });\n      uni.showToast({ title: \"设置功能开发中\", icon: \"none\" });\n    },\n    \n    // 显示相册\n    showGallery() {\n      uni.vibrate({ type: \"light\" });\n      uni.showToast({ title: \"照片库开发中\", icon: \"none\" });\n    },\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.camera-container {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100vh;\n  background-color: #000;\n  display: flex;\n  flex-direction: column;\n}\n\n/* 相机预览 */\n.camera-preview {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 1;\n}\n\n/* 姿势参考图 */\n.pose-reference {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 100%;\n  height: 70%;\n  z-index: 10;\n}\n\n/* 顶部控制栏 */\n.top-bar {\n  position: absolute;\n  top: calc(var(--status-bar-height) + 20rpx);\n  left: 0;\n  right: 0;\n  padding: 0 30rpx;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  z-index: 20;\n}\n\n.top-left {\n  display: flex;\n  align-items: center;\n  gap: 30rpx;\n}\n\n.camera-mode {\n  display: flex;\n  align-items: center;\n  background-color: rgba(255, 255, 255, 0.15);\n  border-radius: 40rpx;\n  padding: 8rpx 15rpx;\n}\n\n.mode-text {\n  font-size: 32rpx;\n  color: white;\n  font-weight: 500;\n  padding: 0 12rpx;\n}\n\n.mode-icon {\n  width: 24rpx;\n  height: 24rpx;\n}\n\n.exposure {\n  display: flex;\n  align-items: center;\n  gap: 10rpx;\n  \n  .value {\n    font-size: 24rpx;\n    color: white;\n    width: 50rpx;\n  }\n  \n  .slider {\n    width: 200rpx;\n  }\n  \n  .number {\n    font-size: 24rpx;\n    color: white;\n    width: 50rpx;\n    text-align: center;\n  }\n}\n\n.settings-icon {\n  width: 40rpx;\n  height: 40rpx;\n}\n\n/* 参数显示 */\n.params-display {\n  position: absolute;\n  top: calc(var(--status-bar-height) + 140rpx);\n  right: 40rpx;\n  display: flex;\n  flex-direction: column;\n  gap: 25rpx;\n  z-index: 20;\n}\n\n.param {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  \n  .name {\n    font-size: 32rpx;\n    color: rgba(255, 255, 255, 0.8);\n    font-weight: 500;\n  }\n  \n  .value {\n    font-size: 34rpx;\n    color: white;\n    font-weight: 600;\n    margin-top: 5rpx;\n  }\n}\n\n/* 底部控制栏 */\n.bottom-bar {\n  position: absolute;\n  bottom: 80rpx;\n  left: 0;\n  right: 0;\n  padding: 0 30rpx;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  z-index: 20;\n}\n\n.control-item {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.photo-thumbnail {\n  width: 80rpx;\n  height: 80rpx;\n  border-radius: 6rpx;\n  border: 2rpx solid rgba(255, 255, 255, 0.3);\n  overflow: hidden;\n}\n\n.thumbnail {\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(45deg, #ff9a9e, #fad0c4);\n}\n\n.control-label {\n  font-size: 24rpx;\n  color: white;\n  margin-top: 10rpx;\n}\n\n.control-icon {\n  width: 50rpx;\n  height: 50rpx;\n}\n\n/* 快门按钮 */\n.shutter-button {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 120rpx;\n  height: 120rpx;\n}\n\n.outer-ring {\n  width: 90rpx;\n  height: 90rpx;\n  border-radius: 50%;\n  border: 3rpx solid white;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: rgba(255, 255, 255, 0.1);\n}\n\n.inner-circle {\n  width: 70rpx;\n  height: 70rpx;\n  border-radius: 50%;\n  background-color: white;\n}\n\n/* 胶片样式 */\n.film-strip {\n  position: absolute;\n  bottom: 20rpx;\n  left: 0;\n  right: 0;\n  padding: 10rpx 30rpx;\n  display: flex;\n  justify-content: space-around;\n  background-color: rgba(0, 0, 0, 0.5);\n  border-top: 2rpx solid rgba(255, 255, 255, 0.2);\n  border-bottom: 2rpx solid rgba(255, 255, 255, 0.2);\n  z-index: 15;\n}\n\n.film-item {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  \n  .param-name {\n    font-size: 24rpx;\n    color: rgba(255, 255, 255, 0.8);\n    font-weight: 500;\n  }\n  \n  .param-value {\n    font-size: 28rpx;\n    color: white;\n    font-weight: 600;\n  }\n}\n\n/* 照片预览 */\n.preview-modal {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.95);\n  z-index: 100;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n\n.preview-image {\n  width: 90%;\n  height: 80vh;\n  margin-bottom: 40rpx;\n  border-radius: 8rpx;\n}\n\n.preview-buttons {\n  display: flex;\n  gap: 50rpx;\n}\n\n.preview-btn {\n  width: 250rpx;\n  height: 90rpx;\n  border-radius: 45rpx;\n  font-size: 36rpx;\n  line-height: 90rpx;\n  text-align: center;\n  \n  &.cancel-btn {\n    background-color: rgba(255, 255, 255, 0.15);\n    color: white;\n    border: 1rpx solid white;\n    \n    &:active {\n      background-color: rgba(255, 255, 255, 0.25);\n    }\n  }\n  \n  &.save-btn {\n    background-color: rgba(7, 193, 96, 0.85);\n    color: white;\n    \n    &:active {\n      background-color: rgba(6, 180, 90, 0.95);\n    }\n  }\n}\n</style>","import MiniProgramPage from '/Users/newgeek/Documents/HBuilderProjects/hello-uni-app/pages/camera/camera.vue'\nwx.createPage(MiniProgramPage)"],"mappings":";;;;;AAyGA,IAAKA,SAAA,GAAU;EACbC,IAAA,WAAAA,KAAA,EAAO;IACL,OAAO;MACLC,UAAA,EAAY;MACZC,WAAA,EAAa;MACbC,cAAA,EAAgB;MAChBC,KAAA,EAAO;MACPC,SAAA,EAAW;MACXC,UAAA,EAAY;MACZC,WAAA,EAAa;MACbC,WAAA,EAAa;MAEbC,UAAA,EAAY,CAAC,MAAM,MAAM,MAAM,IAAI;MAEnCC,UAAA,EAAY,CACV;QAAEC,IAAA,EAAM;QAASC,KAAA,EAAO;MAAQ,GAChC;QAAED,IAAA,EAAM;QAAOC,KAAA,EAAO;MAAQ,GAC9B;QAAED,IAAA,EAAM;QAAOC,KAAA,EAAO;MAAQ,GAC9B;QAAED,IAAA,EAAM;QAAKC,KAAA,EAAO;MAAQ,GAC5B;QAAED,IAAA,EAAM;QAAKC,KAAA,EAAO;MAAQ,GAC5B;QAAED,IAAA,EAAM;QAAKC,KAAA,EAAO;MAAM;IAC3B;EAEJ;EACDC,QAAA,EAAU;IACRC,UAAA,WAAAA,WAAA,EAAa;MACX,OAAO,KAAKX,cAAA,KAAmB,SAC3B,8BACA;IACL;EACF;EACDY,OAAA,EAAS;IAAA;IAEPC,SAAA,WAAAA,UAAA,EAAY;MAAA,IAAAC,KAAA;MACV,IAAMC,aAAA,GAAgBC,aAAA,CAAAC,KAAA,CAAIC,mBAAA;MAC1BF,aAAA,CAAGC,KAAA,CAACE,YAAA,EAAY;MAEhBJ,aAAA,CAAcF,SAAA,CAAU;QACtBO,OAAA,EAAS;QACTC,OAAA,EAAS,SAATA,QAAUC,GAAA,EAAQ;UAChBR,KAAA,CAAKZ,SAAA,GAAYoB,GAAA,CAAIC,aAAA;UACrBT,KAAA,CAAKf,WAAA,GAAc;QACrB;MACF,CAAC;IACF;IAAA;IAGDyB,YAAA,WAAAA,aAAA,EAAe;MACb,KAAKxB,cAAA,GAAiB,KAAKA,cAAA,KAAmB,SAAS,UAAU;MACjEgB,aAAA,CAAAC,KAAA,CAAIQ,OAAA,CAAQ;QAAEC,IAAA,EAAM;MAAS;IAC9B;IAAA;IAGDC,UAAA,WAAAA,WAAA,EAAa;MACX,KAAK5B,WAAA,GAAc;MACnB,KAAKG,SAAA,GAAY;IAClB;IAAA;IAGD0B,SAAA,WAAAA,UAAA,EAAY;MAAA,IAAAC,MAAA;MACVb,aAAA,CAAAC,KAAA,CAAIa,WAAA,CAAY;QAAEC,KAAA,EAAO;MAAU;MAEnCC,UAAA,CAAW,YAAM;QACfhB,aAAA,CAAGC,KAAA,CAACgB,WAAA,EAAW;QACfjB,aAAA,CAAAC,KAAA,CAAIiB,SAAA,CAAU;UAAEH,KAAA,EAAO;QAAS;QAChCF,MAAA,CAAK9B,WAAA,GAAc;QACnB8B,MAAA,CAAK3B,SAAA,GAAY;MAClB,GAAE,GAAI;IACR;IAAA;IAGDiC,gBAAA,WAAAA,iBAAA,EAAmB;MACjB,KAAKhC,UAAA,IAAc,KAAKA,UAAA,GAAa,KAAK,KAAKG,UAAA,CAAW8B,MAAA;MAC1DpB,aAAA,CAAAC,KAAA,CAAIQ,OAAA,CAAQ;QAAEC,IAAA,EAAM;MAAS;IAC9B;IAAA;IAGDW,YAAA,WAAAA,aAAA,EAAe;MACbrB,aAAA,CAAAC,KAAA,CAAIQ,OAAA,CAAQ;QAAEC,IAAA,EAAM;MAAS;MAC7BV,aAAA,CAAGC,KAAA,CAACiB,SAAA,CAAU;QAAEH,KAAA,EAAO;QAAWO,IAAA,EAAM;MAAK,CAAG;IACjD;IAAA;IAGDC,WAAA,WAAAA,YAAA,EAAc;MACZvB,aAAA,CAAAC,KAAA,CAAIQ,OAAA,CAAQ;QAAEC,IAAA,EAAM;MAAS;MAC7BV,aAAA,CAAGC,KAAA,CAACiB,SAAA,CAAU;QAAEH,KAAA,EAAO;QAAUO,IAAA,EAAM;MAAK,CAAG;IAChD;EACH;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChMAE,EAAA,CAAGC,UAAA,CAAWC,eAAe","ignoreList":[]}