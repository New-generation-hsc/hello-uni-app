{"version":3,"file":"camera.js","sources":["pages/camera/camera.vue","pages/camera/camera.vue?type=page"],"sourcesContent":["<template>\n\t<view class=\"camera-container\">\n\t    <!-- 相机预览 -->\n\t    <camera class=\"camera-preview\" device-position=\"front\"></camera>\n\t    \n\t    <!-- 姿势参考图 -->\n\t    <image class=\"pose-reference\" src=\"@/static/girl-pose-01.png\" />\n\t    \n\t    <!-- 拍照按钮 -->\n\t    <view class=\"capture-btn\" @click=\"capturePhoto\">\n\t      <view class=\"capture-icon\"></view>\n\t    </view>\n\t</view>\n</template>\n\n<script>\n\timport { ref } from 'vue';\n\t\n\tconst cameraContext = ref(null);\n\t\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\t\n\t\t\t}\n\t\t},\n\t\tmounted(){\n\t\t\t// 创建相机上下文\n\t\t\tcameraContext.value = uni.createCameraContext();\n\t\t},\n\t\tmethods: {\n\t\t\tsaveCheckRecord(imagePath) {\n\t\t\t  uni.showToast({\n\t\t\t    title: '打卡成功！',\n\t\t\t    icon: 'success',\n\t\t\t    duration: 1500\n\t\t\t  });\n\t\t\t  \n\t\t\t  // 实际项目中这里保存到服务器\n\t\t\t  setTimeout(() => {\n\t\t\t\t  console.log(\"show Toast\");\n\t\t\t    uni.navigateBack();\n\t\t\t  }, 1500);\n\t\t\t},\n\t\t\t\n\t\t\tcapturePhoto() {\n\t\t\t  const that = this;\n\t\t\t  cameraContext.value.takePhoto({\n\t\t\t    quality: 'high',\n\t\t\t    success: (res) => {\n\t\t\t      uni.previewImage({\n\t\t\t        urls: [res.tempImagePath],\n\t\t\t        success: () => {\n\t\t\t          // 保存打卡记录\n\t\t\t          that.saveCheckRecord(res.tempImagePath);\n\t\t\t        }\n\t\t\t      });\n\t\t\t    }\n\t\t\t  });\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style>\n.camera-container {\n  position: relative;\n  height: 100vh;\n  overflow: hidden;\n}\n\n.camera-preview {\n  width: 100%;\n  height: 100%;\n}\n\n.pose-reference {\n  position: absolute;\n  top: 20rpx;\n  right: 20rpx;\n  width: 200rpx;\n  height: 300rpx;\n  border-radius: 20rpx;\n  border: 2rpx solid #fff;\n  box-shadow: 0 0 20rpx rgba(0,0,0,0.2);\n}\n\n.capture-btn {\n  position: absolute;\n  bottom: 100rpx;\n  left: 50%;\n  transform: translateX(-50%);\n  width: 120rpx;\n  height: 120rpx;\n  border-radius: 50%;\n  background: rgba(255,255,255,0.8);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.capture-icon {\n  width: 90rpx;\n  height: 90rpx;\n  border-radius: 50%;\n  background: #f44;\n}\n</style>\n","import MiniProgramPage from '/Users/newgeek/Documents/HBuilderProjects/hello-uni-app/pages/camera/camera.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uni"],"mappings":";;;AAkBC,MAAM,gBAAgBA,cAAAA,IAAI,IAAI;AAE9B,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO,CAEP;AAAA,EACA;AAAA,EACD,UAAS;AAER,kBAAc,QAAQC,oBAAI;EAC1B;AAAA,EACD,SAAS;AAAA,IACR,gBAAgB,WAAW;AACzBA,oBAAAA,MAAI,UAAU;AAAA,QACZ,OAAO;AAAA,QACP,MAAM;AAAA,QACN,UAAU;AAAA,MACZ,CAAC;AAGD,iBAAW,MAAM;AAChBA,sBAAAA,MAAA,MAAA,OAAA,iCAAY,YAAY;AACvBA,sBAAG,MAAC,aAAY;AAAA,MACjB,GAAE,IAAI;AAAA,IACR;AAAA,IAED,eAAe;AACb,YAAM,OAAO;AACb,oBAAc,MAAM,UAAU;AAAA,QAC5B,SAAS;AAAA,QACT,SAAS,CAAC,QAAQ;AAChBA,wBAAAA,MAAI,aAAa;AAAA,YACf,MAAM,CAAC,IAAI,aAAa;AAAA,YACxB,SAAS,MAAM;AAEb,mBAAK,gBAAgB,IAAI,aAAa;AAAA,YACxC;AAAA,UACF,CAAC;AAAA,QACH;AAAA,MACF,CAAC;AAAA,IACH;AAAA,EACD;AACD;;;;;;;;AC5DD,GAAG,WAAW,eAAe;"}