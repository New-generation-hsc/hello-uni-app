{"version":3,"file":"checkin.js","sources":["pages/checkin/checkin.vue","pages/checkin/checkin.vue?type=page"],"sourcesContent":["<template>\r\n\t<view class=\"checkin-container\">\r\n\t\t<!-- 打卡记录列表 - 使用数组动态渲染 -->\r\n\t\t<view class=\"record-list\" :style=\"{ minHeight : dynamicHeight + 'px'}\">\r\n\t\t\t<!-- 打卡信息卡片 -->\r\n\t\t\t<view class=\"checkin-card\">\r\n\t\t\t\t<view class=\"checkin-info\">\r\n\t\t\t\t\t<text class=\"checkin-label\">连续打卡</text>\r\n\t\t\t\t\t<text class=\"checkin-days\">{{ streakDays }}天</text>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<!-- 打卡进度条 -->\r\n\t\t\t\t<view class=\"progress-bar\">\r\n\t\t\t\t\t<view v-for=\"day in 7\" :key=\"day\" class=\"progress-item\" :class=\"{ completed: day <= streakDays }\">\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 打卡日历 -->\r\n\t\t\t<view class=\"calendar-container\">\r\n\t\t\t\t<text class=\"section-title\">打卡日历</text>\r\n\t\t\t\t<view class=\"calendar\">\r\n\t\t\t\t\t<view class=\"weekdays\">\r\n\t\t\t\t\t\t<text v-for=\"(day, index) in weekdays\" :key=\"index\" class=\"weekday\">{{ day }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"days-grid\">\r\n\t\t\t\t\t\t<view v-for=\"(day, index) in calendarDays\" :key=\"index\" class=\"day-cell\" :class=\"{ \r\n\t\t              'current-month': day.inMonth,\r\n\t\t              'checked': day.checked,\r\n\t\t              'today': day.isToday\r\n\t\t            }\">\r\n\t\t\t\t\t\t\t<text class=\"day-number\">{{ day.day }}</text>\r\n\t\t\t\t\t\t\t<view v-if=\"day.checked\" class=\"check-icon\">✓</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 动态渲染打卡记录 -->\r\n\t\t\t<text class=\"section-title\">打卡动态</text>\r\n\t\t\t<view v-for=\"(record, index) in checkinRecords\" :key=\"index\" class=\"record-item\"\r\n\t\t\t\t@click=\"viewRecordDetail(record)\">\r\n\t\t\t\t<text class=\"record-date\">{{ record.date }}</text>\r\n\t\t\t\t<view class=\"record-content\">\r\n\t\t\t\t\t<image :src=\"record.image\" class=\"pose-image\" mode=\"aspectFill\" />\r\n\t\t\t\t\t<view class=\"record-details\">\r\n\t\t\t\t\t\t<text class=\"pose-name\">{{ record.poseName }}</text>\r\n\t\t\t\t\t\t<text class=\"record-time\">{{ record.time }}</text>\r\n\t\t\t\t\t\t<text class=\"streak-days\">已坚持{{ record.streakDays }}天</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 空状态提示 -->\r\n\t\t\t<view v-if=\"checkinRecords.length === 0\" class=\"empty-tips\">\r\n\t\t\t\t<text class=\"empty-text\">暂无打卡记录</text>\r\n\t\t\t\t<button class=\"start-btn\">开始第一次打卡</button>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\tconst systemInfo = uni.getSystemInfoSync();\r\n\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tdynamicHeight: systemInfo.windowHeight - 48,\r\n\t\t\t\t// 打卡记录数组\r\n\t\t\t\tcheckinRecords: [{\r\n\t\t\t\t\t\tid: 1,\r\n\t\t\t\t\t\tdate: \"2024年2月8日\",\r\n\t\t\t\t\t\tposeName: \"站立前屈式\",\r\n\t\t\t\t\t\timage: \"/static/girl-pose-01.png\",\r\n\t\t\t\t\t\ttime: \"08:30\",\r\n\t\t\t\t\t\tstreakDays: 30,\r\n\t\t\t\t\t\tdetails: \"站立前屈式是哈他瑜伽中的常见体式，能有效拉伸腿部后侧肌肉\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: 2,\r\n\t\t\t\t\t\tdate: \"2024年2月7日\",\r\n\t\t\t\t\t\tposeName: \"战士二式\",\r\n\t\t\t\t\t\timage: \"/static/girl-pose-02.png\",\r\n\t\t\t\t\t\ttime: \"09:15\",\r\n\t\t\t\t\t\tstreakDays: 29,\r\n\t\t\t\t\t\tdetails: \"战士二式能够加强腿部力量，同时增强耐力和专注力\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: 3,\r\n\t\t\t\t\t\tdate: \"2024年2月6日\",\r\n\t\t\t\t\t\tposeName: \"树式\",\r\n\t\t\t\t\t\timage: \"/static/girl-pose-03.png\",\r\n\t\t\t\t\t\ttime: \"08:45\",\r\n\t\t\t\t\t\tstreakDays: 28,\r\n\t\t\t\t\t\tdetails: \"树式可以改善平衡能力，同时增强脚踝和大腿的力量\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: 4,\r\n\t\t\t\t\t\tdate: \"2024年2月5日\",\r\n\t\t\t\t\t\tposeName: \"下犬式\",\r\n\t\t\t\t\t\timage: \"/static/girl-pose-01.png\",\r\n\t\t\t\t\t\ttime: \"07:55\",\r\n\t\t\t\t\t\tstreakDays: 27,\r\n\t\t\t\t\t\tdetails: \"下犬式能拉伸全身，帮助缓解压力和焦虑\"\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tstreakDays: 3, // 连续打卡天数\r\n\t\t\t\tweekdays: ['日', '一', '二', '三', '四', '五', '六'],\r\n\t\t\t\tcalendarDays: []\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.generateCalendar();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tviewRecordDetail(record) {\r\n\t\t\t\tconsole.log(\"width: \", systemInfo.windowHeight);\r\n\t\t\t\tconsole.log(\"content: \", this.dynamicHeight);\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/detail/detail'\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 生成日历数据\r\n\t\t\tgenerateCalendar() {\r\n\t\t\t\tconst today = new Date();\r\n\t\t\t\tconst year = today.getFullYear();\r\n\t\t\t\tconst month = today.getMonth();\r\n\r\n\t\t\t\t// 获取当月第一天\r\n\t\t\t\tconst firstDay = new Date(year, month, 1);\r\n\t\t\t\t// 获取当月最后一天\r\n\t\t\t\tconst lastDay = new Date(year, month + 1, 0);\r\n\t\t\t\t// 获取当月第一天是星期几（0-6，0代表星期日）\r\n\t\t\t\tconst firstDayOfWeek = firstDay.getDay();\r\n\r\n\t\t\t\t// 生成日历数组\r\n\t\t\t\tconst days = [];\r\n\r\n\t\t\t\t// 添加上个月的天数\r\n\t\t\t\tconst prevMonthDays = new Date(year, month, 0).getDate();\r\n\t\t\t\tfor (let i = prevMonthDays - firstDayOfWeek + 1; i <= prevMonthDays; i++) {\r\n\t\t\t\t\tdays.push({\r\n\t\t\t\t\t\tday: i,\r\n\t\t\t\t\t\tinMonth: false,\r\n\t\t\t\t\t\tchecked: false\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 添加当月的天数\r\n\t\t\t\tfor (let i = 1; i <= lastDay.getDate(); i++) {\r\n\t\t\t\t\tconst isToday = i === today.getDate() && month === today.getMonth();\r\n\t\t\t\t\tdays.push({\r\n\t\t\t\t\t\tday: i,\r\n\t\t\t\t\t\tinMonth: true,\r\n\t\t\t\t\t\tchecked: i <= today.getDate(), // 今天及之前的日期都标记为已打卡\r\n\t\t\t\t\t\tisToday: isToday\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 添加下个月的天数（补齐42个格子）\r\n\t\t\t\tconst nextMonthDays = 42 - days.length;\r\n\t\t\t\tfor (let i = 1; i <= nextMonthDays; i++) {\r\n\t\t\t\t\tdays.push({\r\n\t\t\t\t\t\tday: i,\r\n\t\t\t\t\t\tinMonth: false,\r\n\t\t\t\t\t\tchecked: false\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.calendarDays = days;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t/* 整体布局 */\r\n\t.checkin-container {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tbackground-color: #f8f8f8;\r\n\t\t/* 浅灰色背景 */\r\n\t}\r\n\r\n\t/* 打卡记录列表 */\r\n\t.record-list {\r\n\t\tmargin-bottom: 20rpx;\r\n\t\t/* 避免被底部导航遮挡 */\r\n\t\tpadding: 0 30rpx;\r\n\t}\r\n\r\n\t.record-item {\r\n\t\tbackground-color: #fff;\r\n\t\tborder-radius: 20rpx;\r\n\t\tpadding: 30rpx;\r\n\t\tmargin-top: 30rpx;\r\n\t\tbox-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.05);\r\n\t\ttransition: all 0.3s ease;\r\n\t}\r\n\r\n\t.record-item:active {\r\n\t\tbackground-color: #f9f9f9;\r\n\t\ttransform: scale(0.97);\r\n\t}\r\n\r\n\t.record-date {\r\n\t\tfont-size: 30rpx;\r\n\t\tcolor: #666;\r\n\t\tmargin-bottom: 20rpx;\r\n\t\tdisplay: block;\r\n\t}\r\n\r\n\t.record-content {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.pose-image {\r\n\t\twidth: 160rpx;\r\n\t\theight: 160rpx;\r\n\t\tborder-radius: 12rpx;\r\n\t\tmargin-right: 30rpx;\r\n\t}\r\n\r\n\t.record-details {\r\n\t\tflex: 1;\r\n\t}\r\n\r\n\t.pose-name {\r\n\t\tfont-size: 36rpx;\r\n\t\tfont-weight: 600;\r\n\t\tcolor: #333;\r\n\t\tdisplay: block;\r\n\t\tmargin-bottom: 10rpx;\r\n\t}\r\n\r\n\t.record-time {\r\n\t\tfont-size: 32rpx;\r\n\t\tcolor: #666;\r\n\t\tdisplay: block;\r\n\t\tmargin-bottom: 10rpx;\r\n\t}\r\n\r\n\t.streak-days {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #4a90e2;\r\n\t\tbackground-color: rgba(74, 144, 226, 0.1);\r\n\t\tborder-radius: 20rpx;\r\n\t\tpadding: 6rpx 15rpx;\r\n\t\tdisplay: inline-block;\r\n\t}\r\n\r\n\t/* 空状态提示 */\r\n\t.empty-tips {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tpadding: 100rpx 30rpx;\r\n\t\tbackground-color: #fff;\r\n\t\tborder-radius: 20rpx;\r\n\t\tmargin-top: 30rpx;\r\n\t\tbox-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.05);\r\n\t}\r\n\r\n\t.empty-text {\r\n\t\tfont-size: 34rpx;\r\n\t\tcolor: #999;\r\n\t\tmargin-bottom: 40rpx;\r\n\t}\r\n\r\n\t.start-btn {\r\n\t\tbackground-color: #07c160;\r\n\t\tcolor: #fff;\r\n\t\twidth: 70%;\r\n\t\theight: 80rpx;\r\n\t\tborder-radius: 40rpx;\r\n\t\tfont-size: 32rpx;\r\n\t\tline-height: 80rpx;\r\n\t}\r\n\r\n\t/* 打卡信息卡片 */\r\n\t.checkin-card {\r\n\t\tbackground-color: #f0e6ff;\r\n\t\t/* 淡紫色背景 */\r\n\t\tborder-radius: 20rpx;\r\n\t\tpadding: 30rpx;\r\n\t\tbox-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.05);\r\n\t\tmargin-top: 30rpx;\r\n\t}\r\n\r\n\t.checkin-info {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tmargin-bottom: 30rpx;\r\n\t}\r\n\r\n\t.checkin-label {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #333;\r\n\t}\r\n\r\n\t.checkin-days {\r\n\t\tfont-size: 30rpx;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #8e44ad;\r\n\t\t/* 紫色 */\r\n\t}\r\n\r\n\t/* 打卡进度条 */\r\n\t.progress-bar {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.progress-item {\r\n\t\twidth: 70rpx;\r\n\t\theight: 30rpx;\r\n\t\tborder-radius: 8rpx;\r\n\t\tbackground-color: #e0e0e0;\r\n\t\t/* 灰色未打卡 */\r\n\r\n\r\n\t}\r\n\r\n\t.progress-item.completed {\r\n\t\tbackground-color: #8e44ad;\r\n\t\t/* 紫色已打卡 */\r\n\t}\r\n\r\n\t/* 日历区域 */\r\n\t.calendar-container {\r\n\t\tmargin: 30rpx 0;\r\n\t}\r\n\r\n\t.section-title {\r\n\t\tfont-size: 36rpx;\r\n\t\tfont-weight: 600;\r\n\t\tcolor: #333;\r\n\t\tmargin-bottom: 25rpx;\r\n\t\tdisplay: block;\r\n\t}\r\n\r\n\t.calendar {\r\n\t\tbackground-color: #fff;\r\n\t\tborder-radius: 20rpx;\r\n\t\tpadding: 20rpx;\r\n\t\tbox-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.05);\r\n\t}\r\n\r\n\t.weekdays {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-around;\r\n\t\tmargin-bottom: 20rpx;\r\n\t}\r\n\r\n\t.weekday {\r\n\t\tfont-size: 32rpx;\r\n\t\tcolor: #666;\r\n\t\twidth: 14.28%;\r\n\t\t/* 100% / 7 */\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.days-grid {\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t}\r\n\r\n\t.day-cell {\r\n\t\twidth: 14.28%;\r\n\t\t/* 100% / 7 */\r\n\t\theight: 80rpx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.day-number {\r\n\t\tfont-size: 32rpx;\r\n\t\tcolor: #333;\r\n\t}\r\n\r\n\t.day-cell:not(.current-month) .day-number {\r\n\t\tcolor: #ccc;\r\n\t}\r\n\r\n\t.day-cell.checked .day-number {\r\n\t\tcolor: #8e44ad;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\r\n\t.day-cell.checked::after {\r\n\t\tcontent: '';\r\n\t\tposition: absolute;\r\n\t\tbottom: 5rpx;\r\n\t\twidth: 10rpx;\r\n\t\theight: 10rpx;\r\n\t\tbackground-color: #8e44ad;\r\n\t\tborder-radius: 50%;\r\n\t}\r\n\r\n\t.day-cell.today .day-number {\r\n\t\tcolor: #fff;\r\n\t\tbackground-color: #8e44ad;\r\n\t\twidth: 50rpx;\r\n\t\theight: 50rpx;\r\n\t\tborder-radius: 50%;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n</style>","import MiniProgramPage from '/Users/newgeek/Documents/HBuilderProjects/hello-uni-app/pages/checkin/checkin.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;AA+DC,MAAM,aAAaA,cAAAA,MAAI;AAEvB,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,eAAe,WAAW,eAAe;AAAA;AAAA,MAEzC,gBAAgB;AAAA,QAAC;AAAA,UACf,IAAI;AAAA,UACJ,MAAM;AAAA,UACN,UAAU;AAAA,UACV,OAAO;AAAA,UACP,MAAM;AAAA,UACN,YAAY;AAAA,UACZ,SAAS;AAAA,QACT;AAAA,QACD;AAAA,UACC,IAAI;AAAA,UACJ,MAAM;AAAA,UACN,UAAU;AAAA,UACV,OAAO;AAAA,UACP,MAAM;AAAA,UACN,YAAY;AAAA,UACZ,SAAS;AAAA,QACT;AAAA,QACD;AAAA,UACC,IAAI;AAAA,UACJ,MAAM;AAAA,UACN,UAAU;AAAA,UACV,OAAO;AAAA,UACP,MAAM;AAAA,UACN,YAAY;AAAA,UACZ,SAAS;AAAA,QACT;AAAA,QACD;AAAA,UACC,IAAI;AAAA,UACJ,MAAM;AAAA,UACN,UAAU;AAAA,UACV,OAAO;AAAA,UACP,MAAM;AAAA,UACN,YAAY;AAAA,UACZ,SAAS;AAAA,QACV;AAAA,MACA;AAAA,MACD,YAAY;AAAA;AAAA,MACZ,UAAU,CAAC,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,GAAG;AAAA,MAC5C,cAAc,CAAC;AAAA,IAChB;AAAA,EACA;AAAA,EACD,UAAU;AACT,SAAK,iBAAgB;AAAA,EACrB;AAAA,EACD,SAAS;AAAA,IACR,iBAAiB,QAAQ;AACxBA,2EAAY,WAAW,WAAW,YAAY;AAC9CA,oBAAY,MAAA,MAAA,OAAA,oCAAA,aAAa,KAAK,aAAa;AAC3CA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK;AAAA,MACN,CAAC;AAAA,IACD;AAAA;AAAA,IAED,mBAAmB;AAClB,YAAM,QAAQ,oBAAI;AAClB,YAAM,OAAO,MAAM;AACnB,YAAM,QAAQ,MAAM;AAGpB,YAAM,WAAW,IAAI,KAAK,MAAM,OAAO,CAAC;AAExC,YAAM,UAAU,IAAI,KAAK,MAAM,QAAQ,GAAG,CAAC;AAE3C,YAAM,iBAAiB,SAAS;AAGhC,YAAM,OAAO,CAAA;AAGb,YAAM,gBAAgB,IAAI,KAAK,MAAM,OAAO,CAAC,EAAE;AAC/C,eAAS,IAAI,gBAAgB,iBAAiB,GAAG,KAAK,eAAe,KAAK;AACzE,aAAK,KAAK;AAAA,UACT,KAAK;AAAA,UACL,SAAS;AAAA,UACT,SAAS;AAAA,QACV,CAAC;AAAA,MACF;AAGA,eAAS,IAAI,GAAG,KAAK,QAAQ,QAAO,GAAI,KAAK;AAC5C,cAAM,UAAU,MAAM,MAAM,QAAQ,KAAK,UAAU,MAAM;AACzD,aAAK,KAAK;AAAA,UACT,KAAK;AAAA,UACL,SAAS;AAAA,UACT,SAAS,KAAK,MAAM,QAAS;AAAA;AAAA,UAC7B;AAAA,QACD,CAAC;AAAA,MACF;AAGA,YAAM,gBAAgB,KAAK,KAAK;AAChC,eAAS,IAAI,GAAG,KAAK,eAAe,KAAK;AACxC,aAAK,KAAK;AAAA,UACT,KAAK;AAAA,UACL,SAAS;AAAA,UACT,SAAS;AAAA,QACV,CAAC;AAAA,MACF;AAEA,WAAK,eAAe;AAAA,IACrB;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5KD,GAAG,WAAW,eAAe;"}