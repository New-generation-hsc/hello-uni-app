{"version":3,"file":"checkin.js","sources":["pages/checkin/checkin.vue","pages/checkin/checkin.vue?type=page"],"sourcesContent":["<template>\n\t<view class=\"checkin-container\">\n\t\t<!-- 打卡记录列表 - 使用数组动态渲染 -->\n\t\t<view \n\t\t  class=\"record-list\" :style=\"{ minHeight : dynamicHeight + 'px'}\"\n\t\t>\n\t\t\t<!-- 打卡信息卡片 -->\n\t\t    <view class=\"checkin-card\">\n\t\t      <view class=\"checkin-info\">\n\t\t        <text class=\"checkin-label\">连续打卡</text>\n\t\t        <text class=\"checkin-days\">{{ streakDays }}天</text>\n\t\t      </view>\n\t\t      \n\t\t      <!-- 打卡进度条 -->\n\t\t      <view class=\"progress-bar\">\n\t\t        <view \n\t\t          v-for=\"day in 7\" \n\t\t          :key=\"day\" \n\t\t          class=\"progress-item\"\n\t\t          :class=\"{ completed: day <= streakDays }\"\n\t\t        ></view>\n\t\t      </view>\n\t\t    </view>\n\t\t    \n\t\t    <!-- 打卡日历 -->\n\t\t    <view class=\"calendar-container\">\n\t\t      <text class=\"section-title\">打卡日历</text>\n\t\t      <view class=\"calendar\">\n\t\t        <view class=\"weekdays\">\n\t\t          <text v-for=\"(day, index) in weekdays\" :key=\"index\" class=\"weekday\">{{ day }}</text>\n\t\t        </view>\n\t\t        <view class=\"days-grid\">\n\t\t          <view \n\t\t            v-for=\"(day, index) in calendarDays\" \n\t\t            :key=\"index\" \n\t\t            class=\"day-cell\"\n\t\t            :class=\"{ \n\t\t              'current-month': day.inMonth,\n\t\t              'checked': day.checked,\n\t\t              'today': day.isToday\n\t\t            }\"\n\t\t          >\n\t\t            <text class=\"day-number\">{{ day.day }}</text>\n\t\t            <view v-if=\"day.checked\" class=\"check-icon\">✓</view>\n\t\t          </view>\n\t\t        </view>\n\t\t      </view>\n\t\t    </view>\n\t\t\t\n\t\t  <!-- 动态渲染打卡记录 -->\n\t\t  <text class=\"section-title\">打卡动态</text>\n\t\t  <view \n\t\t\tv-for=\"(record, index) in checkinRecords\" \n\t\t\t:key=\"index\" \n\t\t\tclass=\"record-item\"\n\t\t\t@click=\"viewRecordDetail(record)\"\n\t\t  >\n\t\t\t<text class=\"record-date\">{{ record.date }}</text>\n\t\t\t<view class=\"record-content\">\n\t\t\t  <image :src=\"record.image\" class=\"pose-image\" mode=\"aspectFill\" />\n\t\t\t  <view class=\"record-details\">\n\t\t\t\t<text class=\"pose-name\">{{ record.poseName }}</text>\n\t\t\t\t<text class=\"record-time\">{{ record.time }}</text>\n\t\t\t\t<text class=\"streak-days\">已坚持{{ record.streakDays }}天</text>\n\t\t\t  </view>\n\t\t\t</view>\n\t\t  </view>\n\t\t  \n\t\t  <!-- 空状态提示 -->\n\t\t  <view v-if=\"checkinRecords.length === 0\" class=\"empty-tips\">\n\t\t\t<text class=\"empty-text\">暂无打卡记录</text>\n\t\t\t<button class=\"start-btn\">开始第一次打卡</button>\n\t\t  </view>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n\tconst systemInfo = uni.getSystemInfoSync();\n\t\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t  dynamicHeight: systemInfo.windowHeight - 48,\n\t\t\t\t // 打卡记录数组\n\t\t\t  checkinRecords: [\n\t\t\t\t\t{\n\t\t\t\t\t  id: 1,\n\t\t\t\t\t  date: \"2024年2月8日\",\n\t\t\t\t\t  poseName: \"站立前屈式\",\n\t\t\t\t\t  image: \"/static/girl-pose-01.png\",\n\t\t\t\t\t  time: \"08:30\",\n\t\t\t\t\t  streakDays: 30,\n\t\t\t\t\t  details: \"站立前屈式是哈他瑜伽中的常见体式，能有效拉伸腿部后侧肌肉\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t  id: 2,\n\t\t\t\t\t  date: \"2024年2月7日\",\n\t\t\t\t\t  poseName: \"战士二式\",\n\t\t\t\t\t  image: \"/static/girl-pose-02.png\",\n\t\t\t\t\t  time: \"09:15\",\n\t\t\t\t\t  streakDays: 29,\n\t\t\t\t\t  details: \"战士二式能够加强腿部力量，同时增强耐力和专注力\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t  id: 3,\n\t\t\t\t\t  date: \"2024年2月6日\",\n\t\t\t\t\t  poseName: \"树式\",\n\t\t\t\t\t  image: \"/static/girl-pose-03.png\",\n\t\t\t\t\t  time: \"08:45\",\n\t\t\t\t\t  streakDays: 28,\n\t\t\t\t\t  details: \"树式可以改善平衡能力，同时增强脚踝和大腿的力量\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t  id: 4,\n\t\t\t\t\t  date: \"2024年2月5日\",\n\t\t\t\t\t  poseName: \"下犬式\",\n\t\t\t\t\t  image: \"/static/girl-pose-01.png\",\n\t\t\t\t\t  time: \"07:55\",\n\t\t\t\t\t  streakDays: 27,\n\t\t\t\t\t  details: \"下犬式能拉伸全身，帮助缓解压力和焦虑\"\n\t\t\t\t\t}\n\t\t\t  ],\n\t\t\t  streakDays: 3, // 连续打卡天数\n\t\t\t  weekdays: ['日', '一', '二', '三', '四', '五', '六'],\n\t\t\t  calendarDays: []\n\t\t\t}\n\t\t},\n\t\tmounted() {\n\t\t\tthis.generateCalendar();\n\t\t},\n\t\tmethods: {\n\t\t\tviewRecordDetail(record) {\n\t\t\t\tconsole.log(\"width: \", systemInfo.windowHeight);\n\t\t\t\tconsole.log(\"content: \", this.dynamicHeight);\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '/pages/detail/detail'\n\t\t\t\t});\n\t\t\t},\n\t\t\t// 生成日历数据\n\t\t\tgenerateCalendar() {\n\t\t\t  const today = new Date();\n\t\t\t  const year = today.getFullYear();\n\t\t\t  const month = today.getMonth();\n\t\t\t  \n\t\t\t  // 获取当月第一天\n\t\t\t  const firstDay = new Date(year, month, 1);\n\t\t\t  // 获取当月最后一天\n\t\t\t  const lastDay = new Date(year, month + 1, 0);\n\t\t\t  // 获取当月第一天是星期几（0-6，0代表星期日）\n\t\t\t  const firstDayOfWeek = firstDay.getDay();\n\t\t\t  \n\t\t\t  // 生成日历数组\n\t\t\t  const days = [];\n\t\t\t  \n\t\t\t  // 添加上个月的天数\n\t\t\t  const prevMonthDays = new Date(year, month, 0).getDate();\n\t\t\t  for (let i = prevMonthDays - firstDayOfWeek + 1; i <= prevMonthDays; i++) {\n\t\t\t\tdays.push({\n\t\t\t\t  day: i,\n\t\t\t\t  inMonth: false,\n\t\t\t\t  checked: false\n\t\t\t\t});\n\t\t\t  }\n\t\t\t  \n\t\t\t  // 添加当月的天数\n\t\t\t  for (let i = 1; i <= lastDay.getDate(); i++) {\n\t\t\t\tconst isToday = i === today.getDate() && month === today.getMonth();\n\t\t\t\tdays.push({\n\t\t\t\t  day: i,\n\t\t\t\t  inMonth: true,\n\t\t\t\t  checked: i <= today.getDate(), // 今天及之前的日期都标记为已打卡\n\t\t\t\t  isToday: isToday\n\t\t\t\t});\n\t\t\t  }\n\t\t\t  \n\t\t\t  // 添加下个月的天数（补齐42个格子）\n\t\t\t  const nextMonthDays = 42 - days.length;\n\t\t\t  for (let i = 1; i <= nextMonthDays; i++) {\n\t\t\t\tdays.push({\n\t\t\t\t  day: i,\n\t\t\t\t  inMonth: false,\n\t\t\t\t  checked: false\n\t\t\t\t});\n\t\t\t  }\n\t\t\t  \n\t\t\t  this.calendarDays = days;\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style>\n\t\n/* 整体布局 */\n.checkin-container {\n  display: flex;\n  flex-direction: column;\n  background-color: #f8f8f8; /* 浅灰色背景 */\n}\n\n/* 打卡记录列表 */\n.record-list {\n  margin-bottom: 20rpx; /* 避免被底部导航遮挡 */\n  padding: 0 30rpx;\n}\n\n.record-item {\n  background-color: #fff;\n  border-radius: 20rpx;\n  padding: 30rpx;\n  margin-top: 30rpx;\n  box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.05);\n  transition: all 0.3s ease;\n}\n\n.record-item:active {\n    background-color: #f9f9f9;\n\ttransform: scale(0.97);\n}\n\n.record-date {\n  font-size: 30rpx;\n  color: #666;\n  margin-bottom: 20rpx;\n  display: block;\n}\n\n.record-content {\n  display: flex;\n  align-items: center;\n}\n\n.pose-image {\n  width: 160rpx;\n  height: 160rpx;\n  border-radius: 12rpx;\n  margin-right: 30rpx;\n}\n\n.record-details {\n  flex: 1;\n}\n\n.pose-name {\n  font-size: 36rpx;\n  font-weight: 600;\n  color: #333;\n  display: block;\n  margin-bottom: 10rpx;\n}\n\n.record-time {\n  font-size: 32rpx;\n  color: #666;\n  display: block;\n  margin-bottom: 10rpx;\n}\n\n.streak-days {\n  font-size: 28rpx;\n  color: #4a90e2;\n  background-color: rgba(74, 144, 226, 0.1);\n  border-radius: 20rpx;\n  padding: 6rpx 15rpx;\n  display: inline-block;\n}\n\n/* 空状态提示 */\n.empty-tips {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 100rpx 30rpx;\n  background-color: #fff;\n  border-radius: 20rpx;\n  margin-top: 30rpx;\n  box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.05);\n}\n\n.empty-text {\n  font-size: 34rpx;\n  color: #999;\n  margin-bottom: 40rpx;\n}\n\n.start-btn {\n  background-color: #07c160;\n  color: #fff;\n  width: 70%;\n  height: 80rpx;\n  border-radius: 40rpx;\n  font-size: 32rpx;\n  line-height: 80rpx;\n}\n\n/* 打卡信息卡片 */\n.checkin-card {\n  background-color: #f0e6ff; /* 淡紫色背景 */\n  border-radius: 20rpx;\n  padding: 30rpx;\n  box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.05);\n  margin-top: 30rpx;\n}\n\n.checkin-info {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 30rpx;\n}\n\n.checkin-label {\n  font-size: 28rpx;\n  color: #333;\n}\n\n.checkin-days {\n  font-size: 30rpx;\n  font-weight: bold;\n  color: #8e44ad; /* 紫色 */\n}\n\n/* 打卡进度条 */\n.progress-bar {\n  display: flex;\n  justify-content: space-between;\n}\n\n.progress-item {\n  width: 70rpx;\n  height: 30rpx;\n  border-radius: 8rpx;\n  background-color: #e0e0e0; /* 灰色未打卡 */\n  \n  \n}\n\n.progress-item.completed {\n    background-color: #8e44ad; /* 紫色已打卡 */\n}\n\n/* 日历区域 */\n.calendar-container {\n\tmargin: 30rpx 0;\n}\n\n.section-title {\n  font-size: 36rpx;\n  font-weight: 600;\n  color: #333;\n  margin-bottom: 25rpx;\n  display: block;\n}\n\n.calendar {\n  background-color: #fff;\n  border-radius: 20rpx;\n  padding: 20rpx;\n  box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.05);\n}\n\n.weekdays {\n  display: flex;\n  justify-content: space-around;\n  margin-bottom: 20rpx;\n}\n\n.weekday {\n  font-size: 32rpx;\n  color: #666;\n  width: 14.28%; /* 100% / 7 */\n  text-align: center;\n}\n\n.days-grid {\n  display: flex;\n  flex-wrap: wrap;\n}\n\n.day-cell {\n  width: 14.28%; /* 100% / 7 */\n  height: 80rpx;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n}\n\n.day-number {\n  font-size: 32rpx;\n  color: #333;\n}\n\n.day-cell:not(.current-month) .day-number {\n  color: #ccc;\n}\n\n.day-cell.checked .day-number {\n  color: #8e44ad;\n  font-weight: bold;\n}\n\n.day-cell.checked::after {\n  content: '';\n  position: absolute;\n  bottom: 5rpx;\n  width: 10rpx;\n  height: 10rpx;\n  background-color: #8e44ad;\n  border-radius: 50%;\n}\n\n.day-cell.today .day-number {\n  color: #fff;\n  background-color: #8e44ad;\n  width: 50rpx;\n  height: 50rpx;\n  border-radius: 50%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n</style>\n","import MiniProgramPage from '/Users/newgeek/Documents/HBuilderProjects/hello-uni-app/pages/checkin/checkin.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;AA8EC,MAAM,aAAaA,cAAAA,MAAI;AAEvB,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACL,eAAe,WAAW,eAAe;AAAA;AAAA,MAEzC,gBAAgB;AAAA,QAChB;AAAA,UACE,IAAI;AAAA,UACJ,MAAM;AAAA,UACN,UAAU;AAAA,UACV,OAAO;AAAA,UACP,MAAM;AAAA,UACN,YAAY;AAAA,UACZ,SAAS;AAAA,QACV;AAAA,QACD;AAAA,UACE,IAAI;AAAA,UACJ,MAAM;AAAA,UACN,UAAU;AAAA,UACV,OAAO;AAAA,UACP,MAAM;AAAA,UACN,YAAY;AAAA,UACZ,SAAS;AAAA,QACV;AAAA,QACD;AAAA,UACE,IAAI;AAAA,UACJ,MAAM;AAAA,UACN,UAAU;AAAA,UACV,OAAO;AAAA,UACP,MAAM;AAAA,UACN,YAAY;AAAA,UACZ,SAAS;AAAA,QACV;AAAA,QACD;AAAA,UACE,IAAI;AAAA,UACJ,MAAM;AAAA,UACN,UAAU;AAAA,UACV,OAAO;AAAA,UACP,MAAM;AAAA,UACN,YAAY;AAAA,UACZ,SAAS;AAAA,QACX;AAAA,MACC;AAAA,MACD,YAAY;AAAA;AAAA,MACZ,UAAU,CAAC,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,GAAG;AAAA,MAC5C,cAAc,CAAC;AAAA,IACjB;AAAA,EACA;AAAA,EACD,UAAU;AACT,SAAK,iBAAgB;AAAA,EACrB;AAAA,EACD,SAAS;AAAA,IACR,iBAAiB,QAAQ;AACxBA,oBAAY,MAAA,MAAA,OAAA,oCAAA,WAAW,WAAW,YAAY;AAC9CA,oBAAY,MAAA,MAAA,OAAA,oCAAA,aAAa,KAAK,aAAa;AAC3CA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK;AAAA,MACN,CAAC;AAAA,IACD;AAAA;AAAA,IAED,mBAAmB;AACjB,YAAM,QAAQ,oBAAI;AAClB,YAAM,OAAO,MAAM;AACnB,YAAM,QAAQ,MAAM;AAGpB,YAAM,WAAW,IAAI,KAAK,MAAM,OAAO,CAAC;AAExC,YAAM,UAAU,IAAI,KAAK,MAAM,QAAQ,GAAG,CAAC;AAE3C,YAAM,iBAAiB,SAAS;AAGhC,YAAM,OAAO,CAAA;AAGb,YAAM,gBAAgB,IAAI,KAAK,MAAM,OAAO,CAAC,EAAE;AAC/C,eAAS,IAAI,gBAAgB,iBAAiB,GAAG,KAAK,eAAe,KAAK;AAC3E,aAAK,KAAK;AAAA,UACR,KAAK;AAAA,UACL,SAAS;AAAA,UACT,SAAS;AAAA,QACX,CAAC;AAAA,MACA;AAGA,eAAS,IAAI,GAAG,KAAK,QAAQ,QAAO,GAAI,KAAK;AAC9C,cAAM,UAAU,MAAM,MAAM,QAAQ,KAAK,UAAU,MAAM;AACzD,aAAK,KAAK;AAAA,UACR,KAAK;AAAA,UACL,SAAS;AAAA,UACT,SAAS,KAAK,MAAM,QAAS;AAAA;AAAA,UAC7B;AAAA,QACF,CAAC;AAAA,MACA;AAGA,YAAM,gBAAgB,KAAK,KAAK;AAChC,eAAS,IAAI,GAAG,KAAK,eAAe,KAAK;AAC1C,aAAK,KAAK;AAAA,UACR,KAAK;AAAA,UACL,SAAS;AAAA,UACT,SAAS;AAAA,QACX,CAAC;AAAA,MACA;AAEA,WAAK,eAAe;AAAA,IACtB;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5LD,GAAG,WAAW,eAAe;"}